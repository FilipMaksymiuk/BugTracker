<h2>Bug Report Details</h2>

<div *ngIf="bugReport; else loading">
  <p><strong>ID:</strong> {{ bugReport.id }}</p>
  <p><strong>Bug Report:</strong> {{ bugReport.title || 'No title' }}</p>
  <p><strong>Description:</strong> {{ bugReport.description || 'No description' }}</p>
  <p><strong>Bug Status:</strong> {{ bugReport.actualStatus?.name || 'No status' }}</p>

  <h3 class="mt-4">Comments</h3>
  <div class="comment-section">
    <!-- Comment form -->
    <div class="mb-3">
      <textarea class="form-control" [(ngModel)]="newComment" placeholder="Add a comment..."></textarea>
      <button class="btn btn-primary mt-2" (click)="addComment()">Add Comment</button>
    </div>

    <!-- Comments list -->
    <div *ngFor="let comment of comments" class="comment-card mb-3">
      <div class="comment-header">
        <strong>{{ comment.user.username }}</strong>
        <span class="text-muted">{{ comment.date | date:'medium' }}</span>
      </div>
      <div class="comment-body">
        {{ comment.comment }}
      </div>
    </div>
  </div>

  <button class="btn btn-secondary" routerLink="/bug-reports">Back</button>
</div>

<ng-template #loading>
  <p>Loading data...</p>
</ng-template>
